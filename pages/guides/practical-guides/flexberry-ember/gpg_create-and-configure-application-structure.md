---
title: Создание и настройка структуры приложения
sidebar: guide-practical-guides_sidebar
keywords: guide, ember-flexberry, flexberry designer, flexberry ember, диаграмма классов, приложение, списковая форма, форма редактирования, детейл
toc: true
permalink: ru/gpg_create-and-configure-application-structure.html
lang: ru
---

Созданная нами ранее диаграмма классов отражает прежде всего структуру классов предметной области и связи между ними. Для того, чтобы настроить внешний вид будущего ember-приложения, необходимо создать так называемые **представления, формы и приложение**.

## Создание  структуры приложения

Для того, чтобы определить структуру приложения, запустим следующую утилиту:

![Создание представлений, форм и приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-1.png)

{% include important.html content="Утилита вызывается для System" %}

Назовем будущее приложение **Shop**:

![Имя приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-2.png)

Если все прошло успешно, то вы увидите следующее сообщение:

![Логи создания приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-3.png)

Как мы видим, все наименования указаны на английском. К тому же, мы можем заметить, что почти для каждого класса было сформировано по два представления:  
L - **представление для списковой формы**,  
E - **представление для формы редактирования**.

Для классов, связанных композицией, генерируется только форма редактирования, поэтому для этих классов не генерируется L-представление. Далее мы будем называть такую связь **детейловой**, класс со стороны * - **детейлом**, а класс со стороны 1 - **агрегатором**.

Связь через **ассоциацию** не накладывает подобных ограничений на генерацию форм в отличие от композиции. Далее такую связь будем называть **мастеровой**, а класс со стороны 0..1 - **мастером** (подробнее об этом можно почитать [тут](https://flexberry.github.io/ru/fd_key-concepts.html)).

После создания представлений, форм и приложения у нас рядом с диаграммой классов “Сущности” появится еще одна, отвечающая за само приложение и его внешнюю структуру. Классы на этой диаграмме хранят метаданные для форм и приложения, соответствующие метаданные используются при генерации исходного кода приложения:

![Сгенерированная диаграмма классов для приложения Shop](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-4.png)

## Настройка структуры приложения

Откроем полученную диаграмму классов:

![Диаграмма классов Shop](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-5.png)

Основной перечень классов на этой диаграмме - это формы, которые войдут в наше приложение. Для настройки структуры меню приложения перейдем:

*`Shop → [ПКМ] → ORM: Редактировать свойства → Containers`*

![Старая структура меню приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-6.png)

Здесь мы можем видеть, что для основной папки “Shop” у нас выбраны все списковые формы, которые есть в модели. Нас это не устраивает, так как это неудобно для работы с точки зрения пользователя приложения. Проделаем следующие действия:

1. удалим все контейнеры из папки Shop при помощи кнопки “-”;
2. переименуем папку Shop → Магазин;
3. создадим в папке “Магазин” подпапки “Информация о заказах” и “Товары на складе”;
4. создадим на одном уровне со папкой “Магазин” папку “Данные о сотрудниках”.

В итоге должна получиться следующая структура:

![Новая структура меню приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-7.png)

Наполним вкладку “Информация о заказах”. Для этого встанем на неё и в правой части при помощи кнопки `[+]` добавим в неё списковые формы “OrderL” и “InvoiceL”. Сразу же зададим верные имена для отображения формам, в соответствии с русской локализацией:

> OrderL → Заказы  
> InvoiceL → Накладные

![Содержимое раздела "Информация о заказах"](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-8.png)

---

**_Самостоятельно_** добавьте в папки следующие формы:

**Товары на складе**
> StorehouseL → Склады  
> ProductL → Товары

**Данные о сотрудниках**
> EmployeeL →  Сотрудники  

---

{% include note.html content="Мы не включаем в отображаемые формы списковую форму Documents: она является предком для заказов и накладных и не интересует нас как самостоятельная форма." %}

Также зададим **заголовок** для нашего приложения – **Магазин** – в свойствах класса Shop со стереотипом “application”:

![Заголовок приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-9.png)

## Настройка наименований форм

Для того, чтобы формы отображались на русском языке не только в области навигации, но и непосредственно на страницах приложения, нужно настроить им заголовки. Рассмотрим как это сделать на примере формы OrderE:

> OrderE → Заказ  

![Заголовок приложения](/images/pages/guides/flexberry-ember/2-1-create-and-configure-application-structure/2-1-10.png)

---

**_Самостоятельно_** задайте заголовки следующим формам:

> OrderL → Заказы  
> InvoiceE → Накладная  
> InvoiceL → Накладные  
> StorehouseE → Склад  
> StorehouseL → Склады  
> ProductE → Товар  
> ProductL →  Товары  
> EmployeeE → Сотрудник  
> EmployeeL → Сотрудники

---

## Итог

После выполнения всех вышеизложенных шагов мы получаем внешний "каркас" приложения: меню и список форм. На основании этих данных при генерации приложения будут выстроены роуты. Дальнейшие преобразования коснутся настройки внешнего вида самих форм (модели, представления, шаблоны).

## Перейти

* [Практическое руководство  «Делай как я»](gpg_landing-page.html) <i class="fa fa-arrow-up" aria-hidden="true"></i>
* [Настройка языка и структуры модели](gpg_setting-language-and-structure.html) <i class="fa fa-arrow-left" aria-hidden="true"></i>
* [Кастомизация форм](gpg_customize-forms.html) <i class="fa fa-arrow-right" aria-hidden="true"></i>