---
title: Условное отображение полей
sidebar: guide-practical-guides_sidebar
keywords: guide, ember, ember-cli, handlebars
toc: true
permalink: ru/gpg_conditional-display-fields.html
lang: ru
---

На примере формы редактирования "**Сотрудник**" настроим внешний вид автозаполняемых полей. Для этого найдем в Visual Studio Code папку с шаблонами страниц и выберем нужный:

*`app → templates → i-i-s-shop-employee-e.hbs`*

![Шаблон формы редактирования сотрудника](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-1.png)

Прежде всего, нужно решить, как поступить с **полем "Табельный номер"**: 
1. оно не должно редактироваться пользователем;
2. оно не информативно для пользователя на форме создания нового объекта (при создании нового сотрудника до сохранения формы табельный номер всегда равен 1).

Как вариант мы можем не отображать табельный номер в виде поля, но сделать это по-другому. Например, можно включить его в **заголовок формы**: 
* если создаем **нового сотрудника**, то будем считать, что номер ему еще не присвоен, поэтому его **выводить не будем**;
* если пользователь **уже создан**, и мы просматриваем / редактируем его карточку, то табельный номер будет **включен в заголовок** в виде "Сотрудник №##".

Найдем поле, которое отвечает за вывод табельного номера (Number):

![Поле "Табельный номер"](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-2.png)

Мы видим, что это поле - компонент из аддона **ember-flexberry** (текстовое поле), значением которого является свойство модели **model.number**. 

Закомментируем это текстовое поле (`выделить` - `Ctrl+K` - `Ctrl+C`) и посмотрим, как изменилась форма редактирования сотрудника:

![Закомментированное поле "Табельный номер"](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-3.png)

![Скрытое поле "Табельный номер" в фоме редактирования сотрудника](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-4.png)

Как мы видим, текстовое поле не отображается на форме. Теперь добавим в **заголовок** формы **данные о табельном номере**. Для этого внесем в заголовок символ номера и значение табельного номера:

{% highlight handlebars%}
{% raw %}
<h3 class="ui header">
  {{t "forms.i-i-s-shop-employee-e.caption"}} № {{model.number}}
</h3>
{% endraw %}
{% endhighlight %}

![Скрытое поле "Табельный номер" в фоме редактирования сотрудника](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-6.png)

Однако, теперь данные о номере также будут существовать в заголовке и для нового сотрудника:

![Скрытое поле "Табельный номер" в фоме редактирования сотрудника](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-7.png)

Он еще не получил своего номера. Вместо записи "Сотрудник №1" правильно было бы выводить просто "Сотрудник". Реализуем такой вариант для формирования заголовка. 

Для этого воспользуемся конструкцией {% raw %}{{#unless <переменная>}}{% endraw %}. Она уже используется в шаблоне формы для отображения кнопки "Удалить":

![Условное выведение кнопки "Удалить"](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-8.png)

Включим аналогичную конструкцию в заголовок:

{% highlight handlebars%}
{% raw %}
<h3 class="ui header">
  {{t "forms.i-i-s-shop-employee-e.caption"}}
  {{#unless model.isNew}}
    № {{model.number}}
  {{/unless}}
</h3>
{% endraw %}
{% endhighlight %}

![Создание нового сотрудника (без номера)](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-10.png)

Видим, что порядковый номер для еще несуществующей записи исчез.

Добавим **нового сотрудника**:

> *<u>Фамилия</u>*: Сидоров  
> *<u>Имя</u>*: Сидор  
> *<u>Отчество</u>*: Сидорович  
> *<u>Телефон</u>*: 200-00-05  
> *<u>Электронная почта</u>*: sidorovss@shop.ru  
> *<u>Должность</u>*: Менеджер 

![Созданный сотрудник с номером](/images/pages/guides/flexberry-ember/5-1-conditional-display-fields/5-1-11.png)

Теперь табельный номер отображается корректно: на форме он отображается после того, как для него срабатывает автоинкремент в серверной части приложения.

Соответствующее табельному номеру **закомментированное поле** удаляем из шаблона i-i-s-shop-employee-e.hbs.

---
**_Самостоятельно_** измените следующие шаблоны:

*`i-i-s-shop-invoice-e.hbs`*
> Поле "Номер" (model.number) - удалить  
> Привести заголовок к виду "Накладная ##", где ## - номер сохраненной накладной

*`i-i-s-shop-order-e.hbs`*
> Поле "Номер" (model.number) - удалить  
> Привести заголовок к виду "Заказ ##", где ## - номер сохраненного заказа

*`i-i-s-shop-product-e`*
> Поле "Код товара" (model.productCode) - удалить  
> Привести заголовок к виду "Товар ##", где ## - номер сохраненного товара

*`i-i-s-shop-storehouse-e.hbs`*
> Поле "Номер" (model.number) - удалить  
> Привести заголовок к виду "Склад № ##", где ## - номер сохраненного склада

---

## Итог

Шаблоны в формате handlebars (.hbs), которые использует Ember, позволяют достаточно гибко манипулировать внешним видом страницы на основании переменных. В дальнешем любые изменения на странице, связанные с её внешним видом, мы будем производить при помощи редактирования шаблонов (templates).

## Перейти

* [Практическое руководство  «Делай как я»](gpg_landing-page.html) <i class="fa fa-arrow-up" aria-hidden="true"></i>

* [Заполнение первичных данных приложения](gpg_filling-application-primary-data.html) <i class="fa fa-arrow-left" aria-hidden="true"></i>
* [Компоненты ember-flexberry](gpg_ember-flexberry-components.html) <i class="fa fa-arrow-right" aria-hidden="true"></i>